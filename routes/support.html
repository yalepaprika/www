<svelte:head>
  <title>Support</title>
</svelte:head>

<Title title="Support"/>
<div class="x">
  <div class="dn sm-db c2 p1">
    <ul>
      <li><a rel="prefetch" href="/about">About</a></li>
      <li><a rel="prefetch" href="/support">Support</a></li>
      <li><a rel="prefetch" href="/search">Search</a></li>
    </ul>
  </div>
  <div class="c12 sm-c4 p1">
    {@html page.content.rendered}
  </div>
  <!-- Begin Mailchimp Signup Form -->
  <div class="c12 sm-c4 p1" id="mc_embed_signup">
    <form action="https://yalepaprika.us1.list-manage.com/subscribe/post?u=4ca966a132d110cd3f44a5d47&amp;id=5281aa2685" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
      <label for="mce-EMAIL">Subscribe to receive new Paprika! issues by email</label>
      <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" required>
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_4ca966a132d110cd3f44a5d47_5281aa2685" tabindex="-1" value=""></div>
        <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
        </div>
    </form>
  </div>

  <!--End mc_embed_signup-->
</div>

<style>
  input[type=email] {
    color: black;
    border-bottom: 0.2rem solid black;
    font-size: 2rem;
    line-height: 0.9;
    font-weight: 400;
    margin-right: 1rem;
  }
</style>

<script>
  export default {
    components: {
      Title: '../components/Title.html'
    },
    async preload({ params, query }) {
      const maskFields = 'content/rendered'
      const res = await this.fetch(`/support.json?fields=${maskFields}`)
      if (!res.ok) {
        const message = await res.text()
        return this.error(res.status, message);
      }
      const data = await res.json()
      return { page: data }
    }
  };
</script>